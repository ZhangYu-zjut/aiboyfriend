# 🤖💕 AI男友 Discord Bot

一个专为中国动漫/偶像粉丝群体设计的AI男友陪伴机器人，提供情感陪伴、压力释放和游戏化体验。

## ✨ 核心功能

- 🤖 **智能对话**: 基于OpenAI GPT模型的中文动漫男友人设
- 💕 **亲密度系统**: 6级亲密关系进展，对话越深入关系越亲密
- 💎 **DOL积分系统**: DOL是平台专属虚拟货币，用于聊天消费和功能解锁
- 🧪 **A/B测试**: 智能分组测试不同策略的用户留存和付费意愿
- 💰 **支付集成**: Creem + PayPal双重支付方案
- 📊 **情感分析**: HuggingFace模型分析用户情感，计算HET值
- 🌸 **中文优化**: 专门为中文用户优化，支持网络用语和二次元表达

## 💎 DOL虚拟货币系统

**什么是DOL？**
DOL是AI男友平台的专属虚拟货币，全称为"Digital Outing Love"。

**DOL的用途：**
- 🗣️ 聊天消费：每条消息消耗30 DOL
- 🔓 功能解锁：特殊功能和内容需要DOL
- 🎁 奖励系统：高情感对话可获得DOL奖励

**如何获得DOL：**
- 🆓 每日免费：A组300 DOL，B组400 DOL（每日凌晨重置）
- 💳 付费充值：多档位充值包，性价比递增
- 💕 情感奖励：高质量情感对话可获得额外DOL

## 🚀 快速开始

### 环境要求
- Node.js 18+
- Discord Bot Token
- OpenAI API Key
- Supabase数据库
- HuggingFace API Key（可选）

### 安装部署

1. **克隆项目**
```bash
git clone <项目地址>
cd aiboyfriend
npm install
```

2. **配置环境变量**
```bash
cp env.example .env
# 编辑.env文件，填入你的API密钥
```

3. **初始化数据库**
- 在Supabase中执行 `database/init.sql`

4. **启动机器人**
```bash
npm start
```

详细部署指南请查看 [QUICK_START.md](./QUICK_START.md)

## 🎮 使用方法

### 基础聊天
- 直接发消息和AI男友聊天
- 每条消息消耗30 DOL
- 支持中文、英文、网络用语、表情符号

### 斜杠命令
- `/stats` - 查看个人数据（亲密度、DOL余额等）
- `/shop` - 查看DOL商店和充值选项
- `/topup [package]` - 购买DOL充值包
- `/help` - 查看完整使用帮助

## 🧪 A/B测试框架

### 分组策略
- **A组**: 免费300 DOL，HET阈值120
- **B组**: 免费400 DOL，HET阈值100

### 测试指标
- 用户留存率、付费转化率、会话时长、情感参与度

## 💰 商业模式

### 免费体验
- 每日300-400免费DOL
- 基础聊天功能完全免费

### 付费充值
提供4档DOL充值包，性价比递增：
- 基础包: $1.99 → 100 DOL (50.3 DOL/美元)
- 标准包: $4.99 → 500 DOL (100.2 DOL/美元)
- 超值包: $8.99 → 1000 DOL (111.2 DOL/美元)
- 豪华包: $19.99 → 2500 DOL (125.1 DOL/美元)

## 📊 技术架构

### 后端服务
- **Discord.js**: Bot框架和API集成
- **OpenAI API**: GPT-4o-mini聊天生成
- **Supabase**: PostgreSQL数据库和实时功能
- **HuggingFace**: 情感分析模型
- **Express**: Webhook服务器

### 数据存储
- **用户档案**: DOL余额、亲密度、A/B分组
- **聊天记录**: 消息历史、情感得分、HET值
- **支付记录**: 充值历史、交易状态
- **A/B事件**: 测试数据和用户行为

### 核心算法
1. **情感分析**: 中英双语关键词 + HuggingFace模型
2. **HET计算**: 高情感token识别和计分
3. **亲密度系统**: 基于情感深度的关系进展
4. **A/B测试**: 随机分组和效果跟踪

## 🎯 市场策略

### 目标用户
- 18-28岁中国女性用户
- 动漫、偶像、二次元文化爱好者
- 寻求情感陪伴和压力释放的群体

### 营销渠道
- 小红书：情感陪伴、动漫文化内容
- 微博：偶像文化、社交焦虑话题
- QQ群/微信群：精准动漫社群投放

详细营销文案模板查看 [marketing/xiaohongshu_templates.md](./marketing/xiaohongshu_templates.md)

## 📝 开发文档

- [快速部署指南](./QUICK_START.md)
- [项目架构详解](./项目总结.md)
- [营销策略文档](./marketing/)
- [数据库设计](./database/init.sql)

## 🔧 环境配置

详见 [env.example](./env.example) 文件，包含所有必要的API密钥和配置选项。

## 📈 监控与分析

### 关键指标
- **用户留存**: 1日、7日、30日留存率
- **付费转化**: 免费用户到付费用户转化率
- **用户参与**: 平均会话时长、消息频率
- **情感质量**: 平均HET值、正面情感比例

### A/B测试数据
- 实时分组效果对比
- 用户行为路径分析
- 付费意愿差异统计

---

**💡 提示**: 这是一个快速原型项目，专为验证产品市场适配性(PMF)而设计。在一周内完成核心功能开发，快速进入市场验证阶段。

**🎯 目标**: 通过AI陪伴服务，为中国年轻用户提供情感价值，建立可持续的商业模式。 
💕 **让AI男友陪伴每一个需要温暖的心灵** 💕 